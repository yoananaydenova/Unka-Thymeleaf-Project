<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <th:block th:include="~{fragments/head}"></th:block>
</head>

<body>
<header>
    <th:block th:include="~{fragments/navbar}"></th:block>

</header>

<main class="content-wrap">
    <div class="container" th:object="${courseViewModel}">
        <div>
            <img class="img-list" th:src="*{imgUrl}"/>
            <h3 th:text="*{name}">Name of course</h3>
            <h4 th:text="*{price}">price</h4>

            <!--                TODO Current user must be creater of this course !!!!-->
            <div sec:authorize="isAuthenticated()">
                <a th:if="*{isTeacherOfCourse}" class="btn btn-primary" th:href="@{/course/edit}">Редактирай</a>
            </div>

            <div sec:authorize="isAuthenticated()">
                <h3 th:if="*{inShoppingCart}">Курсът е добавен в количката</h3>
            </div>


            <form th:unless="*{inShoppingCart or isEnrolled or isTeacherOfCourse}"
                  th:action="@{/shopping-cart/add/{id}(id=*{id})}" method="POST">
                <button type="submit"
                        class="btn btn-primary">
                    Добави в количка
                </button>
            </form>

        </div>
        <p th:text="*{description}">КРАТКО ОПИСАНИЕ НА КУРСА</p>
        <div>

            <h4>Учебна програма на курса:</h4>

            <ul>
                <li th:each="lesson : ${lessonsList}"  class="list-group-item lesson-list-item">
                    <i class="fas fa-file-alt"></i>
                    <small th:text="${lesson.title}"></small>
                    <div sec:authorize="isAuthenticated()" class="lesson-btn-list">
                        <a th:if="${courseViewModel.isEnrolled}" class="btn btn-primary" th:href="@{/lessons/{id}(id=${lesson.id})}"><i class="fas fa-chevron-circle-right"></i></a>
                        <a th:if="${courseViewModel.isTeacherOfCourse}" class="btn btn-primary" th:href="@{/}">Редактирай</a>
                        <a th:if="${courseViewModel.isTeacherOfCourse}" class="btn btn-primary" th:href="@{/}">Изтрии</a>
                    </div>
                </li>
            </ul>
        </div>


        <div>
            <h3 th:text="*{teacher}">Име на учителя</h3>
            <h4>Професия на учителя</h4>
            <h4>Профилна снимка на учителя</h4>
            <p>Кратко представяне пред студентите: Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias animi
                asperiores aspernatur atque aut
                consequatur, dolorem ea error eum harum, libero maiores molestias nam nemo nobis omnis perspiciatis
                quia recusandae reiciendis repudiandae similique soluta suscipit tempora temporibus unde ut
                voluptatem voluptatum. Aliquam amet, asperiores aspernatur, assumenda consectetur distinctio dolorum
                expedita impedit maxime nihil odio odit perspiciatis quas quibusdam quod sed sint tempore voluptate?
                Aut eligendi molestiae officiis voluptas? Ab adipisci asperiores corporis dolore facilis fugit in
                iusto, laborum minus, nostrum perferendis quod ratione rem saepe similique, totam vero! Accusamus
                aperiam cumque est illum, laudantium maiores omnis optio quam tenetur vero?</p>
        </div>
    </div>

</main>


<!-- section -->

<th:block th:include="~{fragments/footer}"></th:block>

<!-- end section -->
</body>

</html>