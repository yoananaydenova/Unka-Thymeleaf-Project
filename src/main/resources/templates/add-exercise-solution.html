<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <th:block th:include="~{fragments/head}"></th:block>
</head>

<body>
<header>
    <th:block th:include="~{fragments/navbar}"></th:block>

</header>

<main class="content-wrap">
    <div class="container">
        <h3 class="text-center"><span class="lable-intrance">Добавяне на упражнение</span></h3>
        <h3 th:text="|КУРС: ${courseName.name}|"></h3>

        <h3 th:if="${lessonsList.isEmpty()}">Няма създадени от Вас уроци. Създайте урок и добавете упражнение към
            него.</h3>

        <form th:unless="${lessonsList.isEmpty()} " th:action="@{/exercises/add}" method="POST"
              th:object="${exerciseSolutionAddBindingModel}"
              enctype="multipart/form-data">

            <fieldset>

                <div class="field">
                    <label for="lessonName" class="title">Изберете урок, към който да е упражнението: *</label>
                    <select id="lessonName" class="custom-select" name="lessonId">
                        <option value="0">Изберете урок</option>
                        <option th:each="lesson : ${lessonsList}"
                                th:value="${lesson.id}"
                                th:text="${lesson.title}"
                                th:selected="${selectedLesson == lesson.id}">
                        </option>
                    </select>
                </div>

                <div class="field">
                    <label for="title" class="title">Заглавие на упражнението: *</label>
                    <input th:field="*{title}"
                           th:errorclass="border-err"
                           type="text" id="title"
                           name="title"
                           placeholder="Заглавие на упражнението" class="input">
                    <small class="msg-custom" th:if="${#fields.hasErrors('title')}"
                           th:errors="*{title}"></small>
                    <small th:if="${exerciseExistsError}" id="usernameUniqueError"
                           class="text-light form-text bg-danger rounded">
                        В урока вече съществува упражнение с това име!</small>
                </div>
                <div class="field">
                    <label for="description" class="label">Описание на упражнението:</label>
                    <input th:field="*{description}"
                           th:errorclass="border-err"
                           type="text" id="description"
                           name="description"
                           placeholder="Описание на упражнението до 500 символа." class="input">
                    <small class="msg-custom" th:if="${#fields.hasErrors('description')}"
                           th:errors="*{description}"></small>
                </div>

                <div class="field">
                    <label for="text" class="label">Счетоводна задача: </label>
                    <input th:field="*{text}"
                           th:errorclass="border-err"
                           type="text" id="text"
                           name="description"
                           placeholder="Описание на счетоводна задача до 500 символа." class="input">
                    <small class="msg-custom" th:if="${#fields.hasErrors('text')}"
                           th:errors="*{text}"></small>
                </div>

                <hr/>
                <h3 class="font-weight-bold">Решение на задачата:</h3>
                <div class="my-5">
                    <div class="d-flex">
                        <label class="solution-label">dt</label>
                        <div class="col-sm-12 d-flex align-self-center">
                            <input th:value="*{debitNumber}"
                                   name="debitNumber"
                                   id="searchDtInput"
                                   class="form-control mr-sm-2 w-50"
                                   type="search"
                                   placeholder="Въведете номер или име на сметка" aria-label="Search">
                            <input th:value="*{debitValue}"
                                   name="debitValue"
                                   type="number" step="0.01"
                                   placeholder="Сума" class="form-control mr-sm-2 w-25">

                        </div>


                    </div>
                    <div class="d-flex">
                        <label class="solution-label">kt</label>
                        <div class="col-sm-12 d-flex align-self-center">
                            <input th:value="*{creditNumber}"
                                   name="creditNumber"
                                   id="searchKtInput"
                                   class="form-control mr-sm-2 w-50"
                                   type="search"
                                   placeholder="Въведете номер или име на сметка" aria-label="Search">
                            <input th:value="*{creditValue}"
                                   name="creditValue"
                                   type="number" step="0.01"
                                   placeholder="Сума" class="form-control mr-sm-2 w-25">
                        </div>
                    </div>
                </div>


                <button type="submit" name="action" value="save" class="btn btn-primary">Създай</button>

            </fieldset>
        </form>

    </div>
</main>

<th:block th:include="~{fragments/footer}"></th:block>


</body>

</html>

